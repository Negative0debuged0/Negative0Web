<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fake New Tab</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .tabs {
            display: flex;
            margin-bottom: 10px;
        }
        .tab-button {
            padding: 10px 20px;
            margin-right: 5px;
            background-color: #f1f1f1;
            border: 1px solid #ccc;
            cursor: pointer;
        }
        .tab-button.active {
            background-color: #ccc;
        }
        .tab-button.new-tab {
            background-color: #ddd;
        }
        .tab-content {
            padding: 20px;
            border: 1px solid #ccc;
        }
        .tab {
            display: none;
        }
        .tab.active {
            display: block;
        }
    </style>
</head>
<body>

<h1>Fake New Tab Example</h1>

<div class="tabs" id="tabs">
    <div class="tab-button new-tab" onclick="createNewTab()">+</div>
</div>

<div id="tab-contents"></div>

<script>
let tabCount = 0;

function createNewTab() {
    tabCount++;

    // Create a new tab button
    const newTabButton = document.createElement('div');
    newTabButton.className = 'tab-button';
    newTabButton.textContent = 'Tab ' + tabCount;
    newTabButton.onclick = function() {
        openTab('tab' + tabCount);
    };

    // Insert the new tab button before the "+" button
    const tabs = document.getElementById('tabs');
    tabs.insertBefore(newTabButton, tabs.querySelector('.new-tab'));

    // Create a new tab content
    const newTabContent = document.createElement('div');
    newTabContent.id = 'tab' + tabCount;
    newTabContent.className = 'tab';
    newTabContent.innerHTML = `<h2>Tab ${tabCount}</h2><p>Content for Tab ${tabCount}</p>`;

    document.getElementById('tab-contents').appendChild(newTabContent);

    // Open the new tab
    openTab(newTabContent.id);
}

function openTab(tabId) {
    // Hide all tab contents
    const tabs = document.querySelectorAll('.tab');
    tabs.forEach(tab => {
        tab.classList.remove('active');
    });

    // Deactivate all tab buttons
    const tabButtons = document.querySelectorAll('.tab-button');
    tabButtons.forEach(button => {
        button.classList.remove('active');
    });

    // Show the selected tab content
    const selectedTab = document.getElementById(tabId);
    if (selectedTab) {
        selectedTab.classList.add('active');
    }

    // Activate the selected tab button
    const selectedButton = Array.from(tabButtons).find(button => button.textContent === 'Tab ' + tabId.replace('tab', ''));
    if (selectedButton) {
        selectedButton.classList.add('active');
    }
}
</script>

</body>
</html>
